<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ghmae</title><style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif;line-height:1.65;margin:2rem;}h1{font-size:2rem;margin:0 0 1rem}h2{font-size:1.5rem;margin:2rem 0 0.75rem}h3{font-size:1.125rem;margin:1.25rem 0 0.5rem}p{margin:0 0 1em}.lesson header{margin-bottom:1rem;border-bottom:1px solid #e5e7eb;padding-bottom:.5rem}.toc{background:#f9fafb;border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;margin:1rem 0}.toc ol{margin-left:1.25rem}.topic, .subtopic{margin-bottom:1.5rem}figure{margin:0.75rem 0;text-align:center}img{max-width:100%;height:auto;border-radius:.5rem}figcaption{font-size:.875rem;color:#6b7280;margin-top:.25rem}.topic-content, .sub-content{margin-top:.5rem}blockquote{border-left:4px solid #e5e7eb;padding-left:1rem;color:#6b7280;margin:.75rem 0}pre{background:#f3f4f6;padding:1rem;border-radius:.5rem;overflow:auto}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #e5e7eb;padding:.5rem;}</style></head><body><article class="lesson"><header><h1>ghmae</h1></header><div class="toc"><h2>Contents</h2><ol><li><a href="#topic-1">game</a><ol><li><a href="#sub-1-1">asasd</a></li></ol></li><li><a href="#topic-2">game</a></li></ol></div><section id="topic-1" class="topic"><h2>Topic 1: game</h2><div class="topic-content">


Also, note that the body field is being escaped when outputting in the form (using&amp;nbsp;e($postedBody)). This is correct because we don&#039;t want the HTML to be interpreted in the form (which would break the textarea). The teacher will see the HTML source.






When we display the content to the student, we will output the body without escaping (so the HTML is rendered). We must ensure that in the student view, we do not escape the body.






However, note: the current code does not have the student view. We are only building the teacher form.






We are storing the body exactly as the teacher entered it (with HTML).






Also, note that the body is stored in the database without any sanitization? We are using prepared statements, so it&#039;s safe from SQL injection. But we are storing raw HTML.






When we display the body in the teacher form (after an error), we&amp;nbsp;


</div><section id="sub-1-1" class="subtopic"><h3>Sub-topic 1.1: asasd</h3><div class="sub-content">


Also, note that the body field is being escaped when outputting in the form (using&amp;nbsp;e($postedBody)). This is correct because we don&#039;t want the HTML to be interpreted in the form (which would break the textarea). The teacher will see the HTML source.






When we display the content to the student, we will output the body without escaping (so the HTML is rendered). We must ensure that in the student view, we do not escape the body.






However, note: the current code does not have the student view. We are only building the teacher form.






We are storing the body exactly as the teacher entered it (with HTML).






Also, note that the body is stored in the database without any sanitization? We are using prepared statements, so it&#039;s safe from SQL injection. But we are storing raw HTML.






When we display the body in the teacher form (after an error), we&amp;nbsp;


</div></section></section><section id="topic-2" class="topic"><h2>Topic 2: game</h2><div class="topic-content">


Also, note that the body field is being escaped when outputting in the form (using&amp;nbsp;e($postedBody)). This is correct because we don&#039;t want the HTML to be interpreted in the form (which would break the textarea). The teacher will see the HTML source.






When we display the content to the student, we will output the body without escaping (so the HTML is rendered). We must ensure that in the student view, we do not escape the body.






However, note: the current code does not have the student view. We are only building the teacher form.






We are storing the body exactly as the teacher entered it (with HTML).






Also, note that the body is stored in the database without any sanitization? We are using prepared statements, so it&#039;s safe from SQL injection. But we are storing raw HTML.






When we display the body in the teacher form (after an error), we&amp;nbsp;


</div></section></article></body></html>